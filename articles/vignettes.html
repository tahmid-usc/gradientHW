<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gradient Metrics Homework • gradientHW</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Gradient Metrics Homework">
<meta property="og:description" content="gradientHW">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gradientHW</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/vignettes.html">Gradient Metrics Homework</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="vignettes_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="vignettes_files/kePrint-0.0.1/kePrint.js"></script><link href="vignettes_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Gradient Metrics Homework</h1>
                        <h4 class="author"><strong>Tahmidul Islam</strong></h4>
            
            <h4 class="date"><i>January 16, 2021</i></h4>
      
      
      <div class="hidden name"><code>vignettes.Rmd</code></div>

    </div>

    
    
<style type="text/css">
pre {
  max-height: 300px;
  float: left;
  width: 910px;
  overflow-y: auto;
}

pre.r {
  max-height: none;
}
</style>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This assignment is aimed at replicating a real world marketing research solution where the client wants structure their marketing message in the best possible way to maximize the popularity of their app which helps people sleep better. The objectives of this analysis are:</p>
<ul>
<li><p><strong>Primary</strong>: Investigate how each attribute (and level) influences the overall likeliness to download using an experiment dataset</p></li>
<li><p><strong>Secondary</strong>: Descriptive analysis of the demographic, psychological and behavioral data of the groups of respondents using a survey dataset</p></li>
</ul>
</div>
<div id="what-message-should-be-sent" class="section level1">
<h1 class="hasAnchor">
<a href="#what-message-should-be-sent" class="anchor"></a>What Message Should be Sent?</h1>
<p>The experiment dataset provides 6 attributes considered in the message testing at the experiment. Let’s load the data and have a glimpse at it.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gradientHW</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">experiment_data</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kable_styling</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
response_id
</th>
<th style="text-align:right;">
task
</th>
<th style="text-align:left;">
duration
</th>
<th style="text-align:left;">
offer
</th>
<th style="text-align:left;">
outcome
</th>
<th style="text-align:left;">
price
</th>
<th style="text-align:left;">
rtb
</th>
<th style="text-align:left;">
social_proof
</th>
<th style="text-align:right;">
answer
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
3 months
</td>
<td style="text-align:left;">
help you lead a better life
</td>
<td style="text-align:left;">
changing your sleep mindset
</td>
<td style="text-align:left;">
$30/month
</td>
<td style="text-align:left;">
cognitive behavioral therapy
</td>
<td style="text-align:left;">
leading researchers
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
6 months
</td>
<td style="text-align:left;">
help you lead a better life
</td>
<td style="text-align:left;">
changing your sleep mindset
</td>
<td style="text-align:left;">
$40/month
</td>
<td style="text-align:left;">
daily text messages from a coach
</td>
<td style="text-align:left;">
a method that has helped thousands
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
12 months
</td>
<td style="text-align:left;">
improve your sleep sustainably
</td>
<td style="text-align:left;">
breaking bad habits and creating new routines
</td>
<td style="text-align:left;">
$40/month
</td>
<td style="text-align:left;">
cognitive behavioral therapy
</td>
<td style="text-align:left;">
a method that has helped thousands
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
3 months
</td>
<td style="text-align:left;">
improve your sleep sustainably
</td>
<td style="text-align:left;">
breaking bad habits and creating new routines
</td>
<td style="text-align:left;">
$40/month
</td>
<td style="text-align:left;">
a program created just for you
</td>
<td style="text-align:left;">
professional athletes
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
12 months
</td>
<td style="text-align:left;">
help you lead a better life
</td>
<td style="text-align:left;">
breaking bad habits and creating new routines
</td>
<td style="text-align:left;">
$30/month
</td>
<td style="text-align:left;">
a program created just for you
</td>
<td style="text-align:left;">
leading researchers
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
R_00zxXbZGxe0owBX
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
12 months
</td>
<td style="text-align:left;">
give you the energy to unlock your fullest potential
</td>
<td style="text-align:left;">
breaking bad habits and creating new routines
</td>
<td style="text-align:left;">
$20/month
</td>
<td style="text-align:left;">
cognitive behavioral therapy
</td>
<td style="text-align:left;">
scientific evidence
</td>
<td style="text-align:right;">
4
</td>
</tr>
</tbody>
</table>
<p>Now we explore the possible levels of the attributes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">experiment_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">duration</span><span class="op">:</span><span class="va">social_proof</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">map</span><span class="op">(</span><span class="va">unique</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">map</span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>$duration
     [,1]       
[1,] "3 months" 
[2,] "6 months" 
[3,] "12 months"

$offer
     [,1]                                                  
[1,] "help you lead a better life"                         
[2,] "improve your sleep sustainably"                      
[3,] "give you the energy to unlock your fullest potential"
[4,] "help you sleep without more pills"                   
[5,] "improve your health for the long-run"                

$outcome
     [,1]                                           
[1,] "changing your sleep mindset"                  
[2,] "breaking bad habits and creating new routines"
[3,] "empowering you to take back your sleep habits"

$price
     [,1]       
[1,] "$30/month"
[2,] "$40/month"
[3,] "$20/month"

$rtb
     [,1]                                                
[1,] "cognitive behavioral therapy"                      
[2,] "daily text messages from a coach"                  
[3,] "a program created just for you"                    
[4,] "the support of a community of people just like you"
[5,] "unique daily games, challenges and exercises"      
[6,] "personalized, human coaching"                      

$social_proof
     [,1]                                
[1,] "leading researchers"               
[2,] "a method that has helped thousands"
[3,] "professional athletes"             
[4,] "scientific evidence"               </code></pre>
<p>For each combination of these levels, the responders rated how much they would like to download the app. These answers can be found in the `answer’ column:</p>
<ul>
<li>1 - Very unlikely</li>
<li>2 - Somewhat unlikely</li>
<li>3 - Somewhat likely</li>
<li>4 - Very likely</li>
</ul>
<p>Note that, the message testing experiment is a ratings-based conjoint on an ordinal scale. Naturally we approach the problem with the conjoint analysis tool. Conjoint analysis helps us to identify important factors and contribution of levels of those factors when a survey is performed about product preference. We can utilize the excellent R package `Radiant’ (<a href="https://radiant-rstats.github.io/docs" class="uri">https://radiant-rstats.github.io/docs</a>) for this task.</p>
<p>First, we modify our data a little to make it more friendly for the conjoint analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">experiment_data</span> <span class="op">&lt;-</span> <span class="va">experiment_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_if</span><span class="op">(</span><span class="va">is.character</span>,<span class="va">as.factor</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#Transforming the character variable to factor variables</span>
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">task</span><span class="op">)</span> <span class="co">#remove the task variable</span></code></pre></div>
<p>The Radiant package allows us to estimate the `Parts-Worth’ (PW) model directly.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conjoint_allrespondents</span> <span class="op">&lt;-</span> <span class="fu">conjoint</span><span class="op">(</span><span class="va">experiment_data</span>, rvar <span class="op">=</span> <span class="st">"answer"</span>,  
                                    evar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">experiment_data</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">conjoint_allrespondents</span><span class="op">)</span> </code></pre></div>
<pre><code>Conjoint analysis
Data                 : experiment_data 
Response variable    : answer 
Explanatory variables: duration, offer, outcome, price, rtb, social_proof 

Conjoint part-worths:
   Attributes                                               Levels     PW
 duration     12 months                                             0.000
 duration     3 months                                              0.013
 duration     6 months                                             -0.011
 offer        give you the energy to unlock your fullest potential  0.000
 offer        help you lead a better life                           0.015
 offer        help you sleep without more pills                     0.036
 offer        improve your health for the long-run                  0.050
 offer        improve your sleep sustainably                        0.022
 outcome      breaking bad habits and creating new routines         0.000
 outcome      changing your sleep mindset                          -0.034
 outcome      empowering you to take back your sleep habits        -0.070
 price        $20/month                                             0.000
 price        $30/month                                            -0.224
 price        $40/month                                            -0.296
 rtb          a program created just for you                        0.000
 rtb          cognitive behavioral therapy                         -0.013
 rtb          daily text messages from a coach                     -0.092
 rtb          personalized, human coaching                         -0.017
 rtb          the support of a community of people just like you   -0.065
 rtb          unique daily games, challenges and exercises         -0.057
 social_proof a method that has helped thousands                    0.000
 social_proof leading researchers                                   0.063
 social_proof professional athletes                                -0.002
 social_proof scientific evidence                                   0.069
 Base utility ~                                                     2.257

Conjoint importance weights:
   Attributes    IW
 duration     0.041
 offer        0.083
 outcome      0.116
 price        0.490
 rtb          0.153
 social_proof 0.118

Conjoint regression results:

                                                        coefficient
 (Intercept)                                                  2.257
 duration|3 months                                            0.013
 duration|6 months                                           -0.011
 offer|help you lead a better life                            0.015
 offer|help you sleep without more pills                      0.036
 offer|improve your health for the long-run                   0.050
 offer|improve your sleep sustainably                         0.022
 outcome|changing your sleep mindset                         -0.034
 outcome|empowering you to take back your sleep habits       -0.070
 price|$30/month                                             -0.224
 price|$40/month                                             -0.296
 rtb|cognitive behavioral therapy                            -0.013
 rtb|daily text messages from a coach                        -0.092
 rtb|personalized, human coaching                            -0.017
 rtb|the support of a community of people just like you      -0.065
 rtb|unique daily games, challenges and exercises            -0.057
 social_proof|leading researchers                             0.063
 social_proof|professional athletes                          -0.002
 social_proof|scientific evidence                             0.069</code></pre>
<p>The output gives <em>part-worths</em>, <em>importance weights</em>, and <em>regression coefficients</em>. The part-worths and the regression coefficients give the same information: compared to the reference level (the first level of an attribute, the part-worths are always zero). It is easier to understand the results with the plots. Let’s inspect the part-worths (the contribution of the level of the factors).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">conjoint_allrespondents</span>,plots <span class="op">=</span> <span class="st">"pw"</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-7-1.png" width="1056" style="display: block; margin: auto auto auto 0;"></p>
<p>Using these part-worths it is easy to construct the most desirable combination of messages:</p>
<ul>
<li>Duration: “3 months”</li>
<li>Offer: “improve your sleep sustainably”</li>
<li>Outcome: “breaking bad habits and creating new routines”</li>
<li>Price: “$20/month”</li>
<li>rtb: “a program created just for you”</li>
<li>Social proof: “a method that has helped thousands” or “scientific evidence”</li>
</ul>
<p>In essence, the responders are more likely to download the app if combination of these messages are displayed. We can also find out which attribute has the most effect on the decision of the responders.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">conjoint_allrespondents</span>,plots <span class="op">=</span> <span class="st">"iw"</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-8-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>Clearly the price has the most influence over respondent’s will to download the app while the duration has the least effect. The other four attributes have somewhat similar contribution to the responses.</p>
</div>
<div id="who-are-getting-these-messages" class="section level1">
<h1 class="hasAnchor">
<a href="#who-are-getting-these-messages" class="anchor"></a>Who Are Getting These Messages?</h1>
<p>The survey data provides a broad overview of the characteristics and behavior of the respondents. The survey data has several components:</p>
<ul>
<li>Demographic</li>
<li>Psychological</li>
<li>Behavioral</li>
</ul>
<p>To understand the user group, we take the descriptive statistics route and see who are actually going to receive these messages (assuming we have a representative sample of the receiver population).</p>
<p>First we load the survey data and take a glance.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">survey_data</span><span class="op">)</span>  <span class="op">%&gt;%</span> <span class="fu">kable</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">kable_styling</span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"striped"</span><span class="op">)</span>, full_width <span class="op">=</span> <span class="cn">T</span>, font_size <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="fu">scroll_box</span><span class="op">(</span>height <span class="op">=</span> <span class="st">"300px"</span><span class="op">)</span> </code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table table-striped">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
response_id
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_urban
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
s_gender
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
s_race
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_education
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
s_hhincome
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
s_problem
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m1_philosophy_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_10
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_attitudes_11
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_10
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_11
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_12
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_13
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
m2_awareness_apps_14
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
hours
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_10
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_11
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_12
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_13
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_14
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_15
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_16
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
source_17
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_10
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_11
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_12
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_13
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_14
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_15
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_16
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_6
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_7
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_8
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_9
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_10
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_11
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_12
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_13
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
behavior_a_14
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
interst_cbt
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
past_coach
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
interest_coach
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_marital
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_h_hnumber
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_parent
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_child_infant
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_child_young
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_child_older
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_politics
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_political_view
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_employment
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_work_schedule
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
d_work_hours
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
s_region
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
s_age
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
weights
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
R_4YgkQnMwIBtmJGh
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
MIDWEST
</td>
<td style="text-align:left;">
65+
</td>
<td style="text-align:right;">
0.9088016
</td>
</tr>
<tr>
<td style="text-align:left;">
R_ZKuM4msZCKKaOAx
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
WEST
</td>
<td style="text-align:left;">
65+
</td>
<td style="text-align:right;">
0.8729060
</td>
</tr>
<tr>
<td style="text-align:left;">
R_1lntx0EmZ8gTdpP
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
SOUTH
</td>
<td style="text-align:left;">
65+
</td>
<td style="text-align:right;">
1.0032782
</td>
</tr>
<tr>
<td style="text-align:left;">
R_29j2Ko8ydqjpuBL
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
SOUTH
</td>
<td style="text-align:left;">
46-64
</td>
<td style="text-align:right;">
1.5666355
</td>
</tr>
<tr>
<td style="text-align:left;">
R_2feXgKJVSlg8puB
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
SOUTH
</td>
<td style="text-align:left;">
65+
</td>
<td style="text-align:right;">
1.1290650
</td>
</tr>
<tr>
<td style="text-align:left;">
R_1HqylZO7RPDYWR5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
SOUTH
</td>
<td style="text-align:left;">
65+
</td>
<td style="text-align:right;">
1.1290650
</td>
</tr>
</tbody>
</table>
</div>
<div id="demographics" class="section level2">
<h2 class="hasAnchor">
<a href="#demographics" class="anchor"></a>Demographics</h2>
<p>The variables are coded so it will be helpful to look at the variables, the levels and the coding.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_demo</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="va">d_urban</span><span class="op">:</span><span class="va">s_problem</span>, <span class="va">d_marital</span><span class="op">:</span><span class="va">weights</span><span class="op">)</span> 

<span class="va">survey_demo</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span>, <span class="op">-</span><span class="va">weights</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">map</span><span class="op">(</span><span class="va">unique</span><span class="op">)</span></code></pre></div>
<pre><code>$d_urban
&lt;labelled&lt;double&gt;[3]&gt;: Would you describe the area in which you live as urban, suburban, or rural?
[1] 1 2 3

Labels:
 value                                                                          label
     1 Urban (An area that is commonly within a town or city with a large population)
     2          Suburban (An area that is residential and on the outskirts of a city)
     3     Rural (An area that is outside of town or city and has a small population)

$s_gender
&lt;labelled&lt;double&gt;[2]&gt;: With which gender do you identify?
[1] 1 2

Labels:
 value  label
     1   Male
     2 Female

$s_race
&lt;labelled&lt;double&gt;[5]&gt;
[1] 5 1 2 4 3

Labels:
 value                                     label
     1 African American/Black/Caribbean American
     2                 Asian or Pacific Islander
     3                        Hispanic or Latino
     4                     Mixed race and Others
     5                                     White

$d_education
&lt;labelled&lt;double&gt;[9]&gt;: What is the last level of schooling you have completed?
[1] 8 6 5 4 2 9 7 3 1

Labels:
 value                                     label
     1                     Less than high school
     2                      High school graduate
     3             Currently enrolled in college
     4  Some college, but not currently enrolled
     5 Associate's degree/Technical degree/AA/AS
     6  College graduate/Bachelor's degree/BA/BS
     7                 Some postgraduate courses
     8  Master's degree (e.g MS, MA, MBA, etc. )
     9                             PhD, JD or MD

$s_hhincome
&lt;labelled&lt;double&gt;[4]&gt;: Which of the following categories best represents your total household income for 2019? This is the total income of all the people living in your household.
[1] 3 4 1 2

Labels:
 value                        label
     1            Less than $25,000
     2  $25,000 - less than $50,000
     3 $50,000 - less than $100,000
     4             $100,000 or more

$s_problem
&lt;labelled&lt;double&gt;[3]&gt;: How often would you say you have trouble sleeping at night during a typical week (e.g., falling asleep, staying asleep, getting good quality sleep)?
[1] 3 1 2

Labels:
 value                                                   label
     1                                             Every night
     2 Most nights (Four or more nights during a typical week)
     3   Sometimes (Two or three nights during a typical week)
     4                Rarely (One night during a typical week)
     5                                                   Never

$d_marital
&lt;labelled&lt;double&gt;[6]&gt;: What is your marital status?
[1] 1 4 6 3 5 2

Labels:
 value                      label
     1                    Married
     2                  Separated
     3                   Divorced
     4                    Widowed
     5              Never married
     6 Domestic/civil partnership

$d_h_hnumber
&lt;labelled&lt;double&gt;[4]&gt;: Including yourself, how many people live in your household?
[1] 2 1 3 4

Labels:
 value label
     1     1
     2   2-3
     3   4-5
     4    6+

$d_parent
&lt;labelled&lt;double&gt;[2]&gt;: Are you currently the parent or guardian of a child under 18 years of age?
[1] 2 1

Labels:
 value label
     1   Yes
     2    No

$d_child_infant
&lt;labelled&lt;double&gt;[5]&gt;: How many of your children are younger than 2 years old?
[1] NA  3  1  2  4

Labels:
 value         label
     1          None
     2           One
     3           Two
     4 Three or more

$d_child_young
&lt;labelled&lt;double&gt;[5]&gt;: How many of your children are between 3 and 10 years old?
[1] NA  1  2  4  3

Labels:
 value         label
     1          None
     2           One
     3           Two
     4 Three or more

$d_child_older
&lt;labelled&lt;double&gt;[5]&gt;: How many of your children are older than 10 years old?
[1] NA  1  2  3  4

Labels:
 value         label
     1          None
     2           One
     3           Two
     4 Three or more

$d_politics
&lt;labelled&lt;double&gt;[7]&gt;: Regardless of how you are registered, do you consider yourself a...?
[1]  3  1  2  5  4  6 NA

Labels:
 value             label
     1   Strong Democrat
     2          Democrat
     3       Independent
     4        Republican
     5 Strong Republican
     6             Other

$d_political_view
&lt;labelled&lt;double&gt;[5]&gt;: In general, how would you describe your own political viewpoint?
[1] 4 2 3 5 1

Labels:
 value                 label
     1          Very liberal
     2      Somewhat liberal
     3              Moderate
     4 Somewhat conservative
     5     Very conservative

$d_employment
&lt;labelled&lt;double&gt;[9]&gt;: Which of the following best describes your current employment status?
[1] 1 5 2 4 7 3 8 6 9

Labels:
 value                         label
     1         Working full time now
     2         Working part time now
     3          Temporarily laid off
     4                    Unemployed
     5                       Retired
     6          Permanently disabled
     7 Taking care of home or family
     8                       Student
     9                         Other

$d_work_schedule
&lt;labelled&lt;double&gt;[6]&gt;: Which of the following best describes your current work schedule?
[1]  2 NA  1  4  3  5

Labels:
 value                                                              label
     1              Fixed work schedule – working hours remain consistent
     2            Flexible work schedule – you control your working hours
     3             Shift work schedule – working hours depend on the week
     4 Rotating work schedule – shift work changes in a repeating pattern
     5                                        Don’t know / not applicable

$d_work_hours
&lt;labelled&lt;double&gt;[4]&gt;: How many hours do you work per week?
[1]  3 NA  2  1

Labels:
 value        label
     1 Less than 20
     2        20-39
     3   40 or more

$s_region
[1] "MIDWEST"   "WEST"      "SOUTH"     "NORTHEAST"

$s_age
[1] "65+"   "46-64" "31-45" "18-30"</code></pre>
<p>It always easier to explore the data with plots and charts. From the plots below we can get an overview of the respondents; for example there are almost same number of male and female in the survey, mostly from midwest and southern region.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_demo</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span>, <span class="op">-</span><span class="va">weights</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">gather</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">key</span>, scale <span class="op">=</span> <span class="st">'free'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-11-1.png" width="1056" style="display: block; margin: auto auto auto 0;"></p>
<p>Age distribution is also balanced with ranging from 18 to 65+ years with slightly more people with age between 31 to 64 years. Most of the respondents are from urban/suburban areas with atleast some high school level education. The respondents are mainly employed or retired from diverse household income groups. Most of them are married.</p>
<p>Interesting fact is learned when they are asked the how often would they have trouble sleeping at night during a typical week (e.g., falling asleep, staying asleep, getting good quality sleep). None of the subject replied “Never” or “Rarely”. Most of the respondents replied they experience sleep trouble at least two nights a week. It appears that an app for helping people to sleep will be useful to many.</p>
<p>Many other aspects were interviewed as well. The questions and the responses are summarized here.</p>
</div>
<div id="personal-philosophy-on-science-products-and-health" class="section level2">
<h2 class="hasAnchor">
<a href="#personal-philosophy-on-science-products-and-health" class="anchor"></a>Personal philosophy on Science, Products and Health</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_philosophy</span> <span class="op">&lt;-</span>
  <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">'m1_philosophy'</span><span class="op">)</span><span class="op">)</span>

<span class="va">survey_philosophy</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">map</span><span class="op">(</span><span class="va">unique</span><span class="op">)</span> </code></pre></div>
<pre><code>$m1_philosophy_1
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I rely on medical science to make decisions about my health.
[1] 3 4 5 1 2

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_2
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I am skeptical that scientific research benefits society.
[1] 3 2 1 4 5

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_3
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - Approaches used by western medicine are usually right.
[1] 3 5 4 1 2

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_4
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I care about the environmental sustainability of products that I use.
[1] 4 5 3 2 1

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_5
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I make choices about the products I use based on the immediate health benefits rather than long-term health benefits.
[1] 3 5 2 4 1

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_6
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I regularly try new products that are known for health benefits.
[1] 2 4 3 1 5

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_7
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I enjoy learning about how the things I consume impact my health.
[1] 4 3 5 1 2

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_8
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - Personal wellness is one of my top priorities.
[1] 4 5 2 1 3

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree

$m1_philosophy_9
&lt;labelled&lt;double&gt;[5]&gt;: To what extent do you agree or disagree with each of the following statements? - I am skeptical about the value of health supplements that are not regulated by the Food &amp; Drug Administration (FDA).
[1] 3 4 5 2 1

Labels:
 value                     label
     1         Strongly disagree
     2         Somewhat disagree
     3 Neither agree or disagree
     4            Somewhat agree
     5            Strongly agree</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_philosophy</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">gather</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">key</span>, scale <span class="op">=</span> <span class="st">'free'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-13-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
</div>
<div id="attitudes-awareness-towards-statements-related-to-sleep" class="section level2">
<h2 class="hasAnchor">
<a href="#attitudes-awareness-towards-statements-related-to-sleep" class="anchor"></a>Attitudes &amp; Awareness towards statements related to sleep</h2>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_awareness</span> <span class="op">&lt;-</span>
  <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">'m2_awareness'</span><span class="op">)</span><span class="op">)</span>

<span class="va">survey_awareness</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">label_to_colnames</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code> [1] "Please select all of the health-focused applications/products that you have heard about. Noom"                                                     
 [2] "Please select all of the health-focused applications/products that you have heard about. Omada"                                                    
 [3] "Please select all of the health-focused applications/products that you have heard about. Ligonvo"                                                  
 [4] "Please select all of the health-focused applications/products that you have heard about. Calm"                                                     
 [5] "Please select all of the health-focused applications/products that you have heard about. Headspace"                                                
 [6] "Please select all of the health-focused applications/products that you have heard about. Apple Watch Activity"                                     
 [7] "Please select all of the health-focused applications/products that you have heard about. FitBit"                                                   
 [8] "Please select all of the health-focused applications/products that you have heard about. Whoop"                                                    
 [9] "Please select all of the health-focused applications/products that you have heard about. Sleep quality"                                            
[10] "Please select all of the health-focused applications/products that you have heard about. Oura ring"                                                
[11] "Please select all of the health-focused applications/products that you have heard about. Sleepio"                                                  
[12] "Please select all of the health-focused applications/products that you have heard about. Not applicable, I have not heard of any of these products"</code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_awareness</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pivot_longer</span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">response_id</span>,names_to <span class="op">=</span> <span class="st">'app'</span>, values_to <span class="op">=</span> <span class="st">'response'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">count</span><span class="op">(</span><span class="va">app</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">app</span>, <span class="op">-</span><span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-15-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
</div>
<div id="sources-of-trouble-with-sleeping-at-night-and-any-actions-taken-to-improve-the-quality-of-sleep" class="section level2">
<h2 class="hasAnchor">
<a href="#sources-of-trouble-with-sleeping-at-night-and-any-actions-taken-to-improve-the-quality-of-sleep" class="anchor"></a>Sources of trouble with sleeping at night and any actions taken to improve the quality of sleep</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_source</span> <span class="op">&lt;-</span>
  <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">'source'</span><span class="op">)</span><span class="op">)</span>

<span class="va">survey_source</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">label_to_colnames</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code> [1] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Insomnia"                                                                      
 [2] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Sleep apnea"                                                                   
 [3] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice A chronic condition (e.g., cancer, diabetes, cardiovascular disease, etc.)"    
 [4] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Temporary physical ailment (e.g., broken bone, rash)"                          
 [5] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Anxiety or depression"                                                         
 [6] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Stress from current events (e.g., pandemic, politics)"                         
 [7] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Stress from personal life events"                                              
 [8] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Work schedule"                                                                 
 [9] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Night time habits (e.g., irregular bedtime, stimulating activities before bed)"
[10] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Medications"                                                                   
[11] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Uncomfortable sleeping environment"                                            
[12] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Diet (e.g. unhealthy food, too much caffeine, alcohol)"                        
[13] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Traumatic event or grief"                                                      
[14] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Disruptive partner (e.g., someone snoring)"                                    
[15] "Thinking about the past year, what are the primary reasons you have trouble sleeping at night? \nSelect up to three. - Selected Choice Other (please specify)"                                                        </code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_source</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pivot_longer</span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">response_id</span>,names_to <span class="op">=</span> <span class="st">'source'</span>, values_to <span class="op">=</span> <span class="st">'response'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">count</span><span class="op">(</span><span class="va">source</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">source</span>, <span class="op">-</span><span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
</div>
<div id="behavioral-questions" class="section level2">
<h2 class="hasAnchor">
<a href="#behavioral-questions" class="anchor"></a>Behavioral questions</h2>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_behavior</span> <span class="op">&lt;-</span>
  <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">'behavior'</span><span class="op">)</span><span class="op">)</span>

<span class="va">survey_behavior</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">label_to_colnames</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code> [1] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Sought advice from wellness professionals to better understand the quality of my sleep"              
 [2] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Talked to my doctor about trouble sleeping in the past"                                              
 [3] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Stuck to a nightly routine (e.g., went to bed at the same time every day)"                           
 [4] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Tracked my sleep using an app, website, or journal"                                                  
 [5] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Purchased products or devices to improve my sleep (e.g., noise machine, smart mattress, lamps, etc.)"
 [6] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Tried over-the-counter sleep supplements (e.g., Melatonin)"                                          
 [7] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Tried prescribed medication"                                                                         
 [8] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Visited a sleep clinic"                                                                              
 [9] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Read a self-help book about improving sleep quality"                                                 
[10] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Tried meditation"                                                                                    
[11] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Made changes to reduce stress"                                                                       
[12] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Altered my diet"                                                                                     
[13] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Altered my exercise routine"                                                                         
[14] "In the past year, which of the following steps have you taken to improve the quality of your sleep?\n Select all that apply. Not applicable, I have not taken steps to improve the quality of my sleep"                           
[15] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Sought advice from wellness professionals to better understand the quality of my sleep"                        
[16] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Talked to my doctor about trouble sleeping in the past"                                                        
[17] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Stuck to a nightly routine (e.g., went to bed at the same time every day)"                                     
[18] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Tracked my sleep using an app, website, or journal"                                                            
[19] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Purchased products or devices to improve my sleep (e.g., noise machine, smart mattress, lamps, etc.)"          
[20] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Tried over-the-counter sleep supplements (e.g., Melatonin)"                                                    
[21] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Tried prescribed medication"                                                                                   
[22] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Visited a sleep clinic"                                                                                        
[23] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Read a self-help book about improving sleep quality"                                                           
[24] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Tried meditation"                                                                                              
[25] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Made changes to reduce stress"                                                                                 
[26] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Altered my diet"                                                                                               
[27] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Altered my exercise routine"                                                                                   
[28] "To what extent do you believe the steps you have taken were successful in improving your sleep in the past year? - Not applicable, I have not taken steps to improve the quality of my sleep"                                     </code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_behavior</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pivot_longer</span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="va">response_id</span>,names_to <span class="op">=</span> <span class="st">'behavior'</span>, values_to <span class="op">=</span> <span class="st">'response'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">count</span><span class="op">(</span><span class="va">behavior</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">behavior</span>, <span class="op">-</span><span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-19-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
</div>
<div id="other-questions" class="section level2">
<h2 class="hasAnchor">
<a href="#other-questions" class="anchor"></a>Other questions</h2>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_other</span> <span class="op">&lt;-</span>
  <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="va">interst_cbt</span><span class="op">:</span><span class="va">interest_coach</span><span class="op">)</span>

<span class="va">survey_other</span> <span class="op">%&gt;%</span>  
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">map</span><span class="op">(</span><span class="va">unique</span><span class="op">)</span></code></pre></div>
<pre><code>$interst_cbt
&lt;labelled&lt;double&gt;[5]&gt;: How interested are you in trying cognitive behavioral therapy?
[1] 3 2 4 5 1

Labels:
 value                               label
     1                     Very interested
     2                 Somewhat interested
     3 Neither interested nor uninterested
     4               Somewhat uninterested
     5                   Very uninterested

$past_coach
&lt;labelled&lt;double&gt;[3]&gt;: Have you ever worked with a professional coach to improve your health or well-being (e.g., nutritionist, personal trainer, life coach, career coach, etc.)?
[1] 2 3 1

Labels:
 value         label
     1           Yes
     2            No
     3 I am not sure

$interest_coach
&lt;labelled&lt;double&gt;[5]&gt;: How interested are you in working with a professional coach to improve your health or well-being (e.g., nutritionist, personal trainer, life coach, career coach, etc.)?
[1] 3 2 4 5 1

Labels:
 value                               label
     1                     Very interested
     2                 Somewhat interested
     3 Neither interested nor uninterested
     4               Somewhat uninterested
     5                   Very uninterested</code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_other</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">gather</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">key</span>, scale <span class="op">=</span> <span class="st">'free'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-21-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
</div>
</div>
<div id="market-segmentation" class="section level1">
<h1 class="hasAnchor">
<a href="#market-segmentation" class="anchor"></a>Market Segmentation</h1>
<p>The survey collected data on almost 100 variables. It is very difficult to understand the characteristics of the potential consumers by looking at all these variables all together. Thus a dimension reduction technique is needed to visualize and capture the spread and influence of these attributes. Principal component analysis (PCA) is a widely used statistical tool for dimension reduction. We employ PCA on the survey data.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">2021</span><span class="op">)</span>

<span class="va">pca_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">response_id</span>, <span class="op">-</span><span class="va">weights</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>s_region <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span>
    <span class="va">s_region</span> <span class="op">==</span> <span class="st">'MIDWEST'</span> <span class="op">~</span> <span class="fl">0</span>,
    <span class="va">s_region</span> <span class="op">==</span> <span class="st">'NORTHEAST'</span> <span class="op">~</span> <span class="fl">1</span>,
    <span class="va">s_region</span> <span class="op">==</span> <span class="st">'SOUTH'</span> <span class="op">~</span> <span class="fl">2</span>,
    <span class="va">s_region</span> <span class="op">==</span> <span class="st">'WEST'</span> <span class="op">~</span> <span class="fl">3</span>
  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">everything</span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span><span class="fu">replace_na</span><span class="op">(</span><span class="va">.x</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_numeric</span><span class="op">)</span>

<span class="va">pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html">prcomp</a></span><span class="op">(</span><span class="va">pca_data</span>, center <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>  <span class="co">#principle component analysis</span>
<span class="fu">fviz_eig</span><span class="op">(</span><span class="va">pca</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-22-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>From the PCA result, it doesn’t look promising since the principal components (PC) have very little explanation power, i.e. not much dimension reduction is possible. Nevertheless, let’s take look at the first two PC.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">autoplot</span><span class="op">(</span><span class="va">pca</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-23-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>Using PC, it is hard to segment the respondents in nice separable groups. Therefore, we take help from the hierarchical cluster analysis to investigate wether we can divide the respondents based on their answers of the survey questions.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="va">pca_data</span>, method <span class="op">=</span> <span class="st">"euclidean"</span><span class="op">)</span>
<span class="va">hc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html">hclust</a></span><span class="op">(</span><span class="va">dist</span>, method <span class="op">=</span> <span class="st">"complete"</span><span class="op">)</span>
<span class="fu">fviz_dend</span><span class="op">(</span><span class="va">hc</span>, show_labels <span class="op">=</span> <span class="cn">FALSE</span>, main <span class="op">=</span> <span class="st">"Uncut Dendrogram"</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-24-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>From the dendogram we can decide to cut the trees at the height of 18 to get some reasonable number of clusters.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cluster_assign</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cutree.html">cutree</a></span><span class="op">(</span><span class="va">hc</span>, h <span class="op">=</span> <span class="fl">18</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">cluster_assign</span><span class="op">)</span></code></pre></div>
<pre><code>cluster_assign
  1   2   3   4   5   6 
205 222 170 284   3   8 </code></pre>
<p>Cutting the tree at 18 gives us 6 total clusters but there are few clusters with very few observation. So we reduce the number of clusters to 4.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">fviz_dend</span><span class="op">(</span><span class="va">hc</span>, 
          k <span class="op">=</span> <span class="fl">4</span>,
          show_labels <span class="op">=</span> <span class="cn">FALSE</span>,
          rect <span class="op">=</span> <span class="cn">TRUE</span>,
          rect_fill <span class="op">=</span> <span class="cn">TRUE</span>,
          main <span class="op">=</span> <span class="st">"Four cluster Dendrogram"</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-26-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>Using the selected number of clusters, we proceed to the final cluster analysis using the k-means clustering with k = 4.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kCluster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html">kmeans</a></span><span class="op">(</span><span class="va">pca_data</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">pca_data</span> <span class="op">&lt;-</span> <span class="fu">mutate</span><span class="op">(</span><span class="fu">fortify</span><span class="op">(</span><span class="va">pca</span><span class="op">)</span>, col<span class="op">=</span><span class="va">kCluster</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span> 

<span class="fu">ggplot</span><span class="op">(</span><span class="va">pca_data</span><span class="op">)</span> <span class="op">+</span>  
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">PC1</span>, y<span class="op">=</span><span class="va">PC2</span>, fill<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">3</span>, col<span class="op">=</span><span class="st">"#7f7f7f"</span>, shape<span class="op">=</span><span class="fl">21</span><span class="op">)</span> </code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-27-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_data</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op">%&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>cluster <span class="op">=</span> <span class="va">kCluster</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></code></pre></div>
<p>Even with four clusters, it is visible that there are many overlapping groups of subjects. It is not expected that the cluster analysis will be able to segment the market effectively. However, we continue with these four clusters and check the demographics of these clusters.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">survey_demo</span> <span class="op">&lt;-</span> <span class="va">survey_data</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">response_id</span>, <span class="va">d_urban</span><span class="op">:</span><span class="va">s_problem</span>, <span class="va">d_marital</span><span class="op">:</span><span class="va">weights</span>, <span class="va">cluster</span><span class="op">)</span> 


<span class="va">survey_demo</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">weights</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate_all</span><span class="op">(</span><span class="va">as_factor</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pivot_longer</span><span class="op">(</span>cols <span class="op">=</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">response_id</span>,<span class="va">cluster</span><span class="op">)</span> ,names_to <span class="op">=</span> <span class="st">'key'</span>, 
               values_to <span class="op">=</span> <span class="st">'value'</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">drop_na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">value</span>, fill <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">key</span>, scale <span class="op">=</span> <span class="st">'free'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_bar</span><span class="op">(</span>position <span class="op">=</span> <span class="fu">position_fill</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="vignettes_files/figure-html/unnamed-chunk-28-1.png" width="768" style="display: block; margin: auto auto auto 0;"></p>
<p>From the demographic distribution of the respondents by their cluster identity it appears that the following factors supply useful distinguishing features to segment the market:</p>
<ol style="list-style-type: decimal">
<li>The number of infant children</li>
<li>Education</li>
<li>Employment</li>
<li>Marital status</li>
<li>Age</li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tahmidul Islam.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
